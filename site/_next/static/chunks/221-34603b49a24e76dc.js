"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{6221:(e,t,n)=>{n.d(t,{d3:()=>f,jf:()=>g,lq:()=>_});var r=n(9249),i=n(2115),o=n(1457),c=n.n(o);let l=Symbol("reactivated"),a=Symbol("backingFields"),s=Symbol("originalValues"),p=Symbol("deactivated"),d=Symbol("comparer"),u=new WeakMap;class f{view(){return this.elements}createComponent(){let e=this,t=t=>{let n=(0,i.useRef)(null),[,r]=(0,i.useState)({});n.current||(n.current=e.createInstance(),u.set(n.current,()=>r({})));let o=n.current;if((0,i.useEffect)(()=>(o._isSetup||(e.applyProps(o,t),e.setupReactivity(o,()=>r({})),e.handleParentBinding(o,t),e.runCatalystMethods(o),o._isSetup=!0),()=>{e.cleanupInstance(o)}),[]),t.children){let n=e.modifyChildren(o,t.children);o.elements=n}return o.view()};return t.isChemical=!0,t}createInstance(){let e=Object.create(this);for(let t of(e.children=[],e._isSetup=!1,h(this)))if("children"!==t.property){let n=this[t.property];void 0!==n&&(Array.isArray(n)?e[t.property]=[]:e[t.property]=n)}return e}setupInstance(e,t,n){this.applyProps(e,t),this.setupReactivity(e,n),this.handleParentBinding(e,t),this.runCatalystMethods(e)}cleanupInstance(e){u.delete(e),e.parent&&this.unregisterFromParent(e,e.parent)}applyProps(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&"children"!==n&&"__parentInstance"!==n&&this.setProp(e,n,t[n])}setProp(e,t,n){let r="$"+String(t),i=e.constructor.prototype.transformers;if(null==i?void 0:i.has(r)){let t=i.get(r);e[r]=t(n)}else e[r]=n}setupReactivity(e,t){u.set(e,t),function e(t,n){var r;let i=(null==(r=t.constructor)?void 0:r.name)||"Unknown",o=t[l];console.log("reactivate: ".concat(i,", already reactivated: ").concat(o)),t[l]||(t[l]=!0),!function(t,n){var r,i;let o=null!=(i=null==t||null==(r=t.constructor)?void 0:r.name)?i:"<UNKNOWN>";t[a]||(t[a]={}),t[s]||(t[s]={}),function(t,n,r){let i=function(e){let t=new Set;Object.getOwnPropertyNames(e).forEach(e=>{t.add(e)});let n=Object.getPrototypeOf(e);for(;n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).forEach(e=>{e.startsWith("_")||"constructor"===e||t.add(e)}),n=Object.getPrototypeOf(n);return Array.from(t)}(t);for(let l of(t[a]||(t[a]={}),i)){var o,c;let i,s=t[l];if(!P(t,l,s))continue;let p=Object.getOwnPropertyDescriptor(t,l);if(p&&(p.get||p.set))continue;let u=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),l);if(u&&(u.get||u.set)){!function(e,t,n,r,i){let o=n.get,c=n.set;Object.defineProperty(e,t,{get:function(){let e=null==o?void 0:o.call(this);if(i.after){let n=i.after(r,t,"property",()=>{},[],e);return null!=n?n:e}return e},set:function(e){if(!c)return;let n=null==o?void 0:o.call(this);if(n===e)return;let l=Object.getPrototypeOf(this);!(l&&l[d]&&l[d].has(t)&&l[d].get(t)(n,e))&&(c.call(this,e),i.after&&i.after(r,t,"field",()=>{},[e],void 0))},enumerable:n.enumerable,configurable:n.configurable})}(t,l,u,n,r);continue}t[a][l]=s,i=(null==(o=t.constructor.__chemicalProperties)||!o.has(l))&&(void 0===s||void 0!==(c=s)&&!(c instanceof f||Array.isArray(c)&&c.length>0&&c[0]instanceof f)&&(Array.isArray(c)||"object"==typeof c&&null!==c&&!(c instanceof Date))),Object.defineProperty(t,l,{get:function(e,t,n,r){return function(){let i=this[a][e];if(n&&i&&!this[a][e+"_checkScheduled"]){let n=m(i);this[a][e+"_checkScheduled"]=!0,setTimeout(()=>{try{let i=m(this[a][e]);n!==i&&(console.log("Dirty check detected change in ".concat(e)),r.after&&r.after(t,e,"field",()=>{},[this[a][e]],void 0))}catch(t){console.error("Error in dirty check for ".concat(e,":"),t)}this[a][e+"_checkScheduled"]=!1},0)}if(r.after){let n=r.after(t,e,"property",()=>{},[],i);return null!=n?n:i}return i}}(l,n,i,r),set:function(t,n,r,i){return function(o){var c,l;let s=this[a][t];if(s===o)return;let p=Object.getPrototypeOf(this);if(null==p||null==(c=p[d])?void 0:c.has(t)){if(p[d].get(t)(s,o))return}else if(r&&void 0!==s&&void 0!==o)try{if(m(s)===m(o))return}catch(e){}let u=o;if(i.before){let e=i.before(n,t,"field",()=>{},[o]);(null==e?void 0:e[1])&&(u=e[1][0])}!(u&&"object"==typeof u&&!Object.isFrozen(u)&&!Object.isSealed(u)&&Object.isExtensible(u))||u instanceof f||Array.isArray(u)||u instanceof Date||!(l=u)||"object"!=typeof l||l instanceof f||e(l,this),this[a][t]=u,i.after&&i.after(n,t,"field",()=>{},[u],void 0)}}(l,n,i,r),enumerable:!0,configurable:!0})}}(t,o,n),t[l]=!0}(t,{after:(e,r,o,c,l,a)=>("field"===o&&(()=>{let e=u.get(n||t);e?(console.log("reactivate: Update triggered for ".concat(i)),e()):console.warn("reactivate: No update function found for ".concat(i))})(),a)});let c=0;for(let e in t)if("constructor"!==e&&!e.startsWith("_")){let n=t[e];n instanceof f||!n||"object"!=typeof n||n instanceof Date||c++}return console.log("reactivate: ".concat(i," has ").concat(c," reactive properties")),t}(e)}handleParentBinding(e,t){t.__parentInstance&&(e.parent=t.__parentInstance,e.parent&&this.registerWithParent(e,e.parent))}registerWithParent(e,t){this.trackChild(t,e),this.applyBinding(e,t)}trackChild(e,t){e.children.includes(t)||e.children.push(t)}untrackChild(e,t){let n=e.children.indexOf(t);n>=0&&e.children.splice(n,1)}applyBinding(e,t){let n=h(t);for(let i of(console.log("applyBinding: ".concat(t.constructor.name," has ").concat(n.length," bindings")),t.childPositionCounts||(t.childPositionCounts=new Map),n)){var r;if("children"!==i.property){if(console.log("applyBinding: Checking binding for property '".concat(i.property,"', expects class: ").concat(null==(r=i.class)?void 0:r.name)),this.matchesBinding(e,t,i)){console.log("applyBinding: MATCH! Binding ".concat(e.constructor.name," to ").concat(t.constructor.name,".").concat(i.property)),this.bindChild(e,t,i);break}console.log("applyBinding: No match for ".concat(i.property))}}}matchesBinding(e,t,n){if(!(e instanceof n.class))return!1;if(void 0!==n.position){let e=t.childPositionCounts.get(n.class)||0;if(n.position!==e)return t.childPositionCounts.set(n.class,e+1),!1;t.childPositionCounts.set(n.class,e+1)}return!n.where||!!n.where(e)}bindChild(e,t,n){if(console.log("bindChild: Binding ".concat(e.constructor.name," to ").concat(t.constructor.name,".").concat(n.property)),void 0===t[n.property]){let e=Array.isArray(n.default)?[]:v(n.class);t[n.property]=e,console.log("bindChild: Initialized ".concat(n.property," with placeholder"))}let r=t[n.property];if(Array.isArray(r))console.log("bindChild: Adding to array ".concat(n.property,", current length: ").concat(r.length)),r.length>0&&r[0]._isPlaceholder?r[0]=e:r.push(e),t[n.property]=[...r];else if(r._isPlaceholder)console.log("bindChild: Replacing placeholder with real child for ".concat(n.property)),t[n.property]=e;else{if(r)return void console.log("bindChild: Property ".concat(n.property," already has a real value, skipping"));console.log("bindChild: Setting single child to ".concat(n.property)),t[n.property]=e}if(function(e){for(let t of h(e)){if("children"===t.property)continue;let n=e[t.property];if(Array.isArray(n)){if(0===n.length||n.some(e=>e._isPlaceholder))return!1}else if(!t.optional&&(!n||n._isPlaceholder)||t.optional&&n&&n._isPlaceholder)return!1}return!0}(t)){console.log("bindChild: All bindings satisfied for ".concat(t.constructor.name));let e=u.get(t);e?(console.log("bindChild: Triggering final update to remove hidden elements"),e()):console.warn("bindChild: No update function found for parent ".concat(t.constructor.name))}}unbindChild(e,t){for(let n of h(t)){if("children"===n.property)continue;let r=t[n.property];if(Array.isArray(r)){let t=r.indexOf(e);t>=0&&r.splice(t,1)}else t[n.property]===e&&(t[n.property]=void 0)}}unregisterFromParent(e,t){this.unbindChild(e,t),this.untrackChild(t,e)}runCatalystMethods(e){let t=e.constructor.prototype.catalystMethods;if(t)for(let n of t)"function"==typeof e[n]&&e[n]()}modifyChildren(e,t){return console.log("modifyChildren for ".concat(e.constructor.name,":"),t),i.Children.toArray(t).map(t=>i.isValidElement(t)&&t.type.isChemical?i.cloneElement(t,{...t.props,__parentInstance:e}):t)}constructor(){this._isSetup=!1,this.children=[],this.Component=this.createComponent()}}function h(e){let t=e.constructor;if(t._mergedBindings)return t._mergedBindings;let n=new Map,r=t;for(;r&&r!==f;)r.__bindingsMap&&r.__bindingsMap.forEach((e,t)=>{n.has(t)||n.set(t,{...e,property:t})}),r=Object.getPrototypeOf(r);let i=[];return n.forEach(e=>{if(!e.class)return void console.warn("Binding for '".concat(e.property,"' missing @child decorator"));i.push(e)}),i.sort((e,t)=>void 0!==e.position&&void 0===t.position?-1:void 0!==t.position&&void 0===e.position?1:void 0!==e.position&&void 0!==t.position?e.position-t.position:0),t._mergedBindings=i,i}function y(){return function(e,t){e[p]||(e[p]=new Set),e[p].add(t)}}function g(e){return function(t,n){let r=t.constructor;r.__bindingsMap||(r.__bindingsMap=new Map);let o=r.__bindingsMap.get(n);if(o||(o={property:n},r.__bindingsMap.set(n,o)),r.__chemicalProperties||(r.__chemicalProperties=new Set),r.__chemicalProperties.add(n),o.class=e,void 0===o.optional&&(o.optional=!1),!r.__viewWrapped){r.__viewWrapped=!0;let e=t.view;t.view=function(){let t=e.call(this);return h(this).some(e=>"children"!==e.property)&&this.elements?i.createElement(i.Fragment,null,t,i.createElement("div",{style:{display:"none"},"aria-hidden":"true","data-chemistry-hidden":"true"},this.elements)):t}}if(!t.hasOwnProperty(n)){let r=Object.getOwnPropertyDescriptor(t,n),i=(null==r?void 0:r.value)instanceof Array;t[n]=i?[]:o.optional?void 0:v(e)}t[d]||(t[d]=new Map),t[d].set(n,(e,t)=>{try{return c()(e)===c()(t)}catch(n){return e===t}})}}function _(){return function(e,t){let n=e.constructor;n.__bindingsMap||(n.__bindingsMap=new Map);let r=n.__bindingsMap.get(t);r||(r={property:t},n.__bindingsMap.set(t,r)),r.optional=!0,e[t]&&(e[t]=void 0)}}function b(e){return function(t,n){let r=t.constructor;r.__bindingsMap||(r.__bindingsMap=new Map);let i=r.__bindingsMap.get(n);i||(i={property:n},r.__bindingsMap.set(n,i)),i.position=e-1}}function v(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return;let n=new e;return n._isPlaceholder=!0,n._optional=t,console.log("Created placeholder:",{class:e.name,hasView:typeof n.view,viewValue:n.view}),n}(0,r.Cg)([y()],f.prototype,"Component",void 0),(0,r.Cg)([y()],f.prototype,"parent",void 0),(0,r.Cg)([y()],f.prototype,"children",void 0),(0,r.Cg)([y()],f.prototype,"elements",void 0),b(1),b(2),b(3),b(4),b(5);function m(e){return c()(e,function(e,t){if(""===e)return t;if(!this||!(this instanceof f)||P(this,e,t)){if(t instanceof f){let e={_chemical:t.constructor.name};for(let n in t)n.startsWith("$")&&"function"!=typeof t[n]&&(e[n]=t[n]);return e}if("function"!=typeof t){if(t&&"object"==typeof t)try{var n;if((null==(n=t.constructor)?void 0:n.name)==="Proxy")return"[NextProxy]"}catch(e){return"[Inaccessible]"}return t}}})}function P(e,t,n){var r;if(t===String(l)||t===String(a)||t===String(s)||t===String(p)||t===String(d)||"constructor"===t||"state"===t||"props"===t||"Component"===t||"parent"===t||"children"===t||"elements"===t||"__parentInstance"===t||"_isSetup"===t||"function"==typeof n||f.prototype.hasOwnProperty(t))return!1;let i=Object.getPrototypeOf(e);return!(i&&(null==(r=i[p])?void 0:r.has(t)))&&!(n instanceof f)}}}]);